Документация по работе с bitrix24-php-sdk
=============================================

## Авторизация на портале

- с использованием [входящих веб-хуков](Core/Auth/auth.md)
- с использованием [OAuth 2.0 токенов](Core/Auth/auth.md#подключение-к-битрикс24-с-использованием-oauth-20)

## Возвращаемые результаты ApiClient

- унифицированный объект [Response](Core/Response/response.md)

## Возвращаемые результаты сервисов

- унифицированные объекты [Result](Core/Result/result.md)

## Обработка событий

При работе с SDK могут возникать события, которые требуется обработать в клиентском коде. Библиотека позволяет подписаться на эти события с
помощью компонента `EventDispatcher`
Список [событий](Core/Events/events.md), на которые можно подписаться.

## Отправка запросов в пакетном режиме — batch

- [получение данных](Core/Batch/batch-read-mode.md) в batch-режиме
- запись данных в batch-режиме
- смешанный режим работы

## Сервисы

SDK разбита на сервисы которые соответствуют разрешениям — SCOPE к различным сущностям Битрикс24. Каждый сервис расположен в своём
неймспейсе и предоставляет API по работе с методами из своего пространства имён.

Именно сервис предоставляет CRUD+ API по работе с сущностью.

- im
- imbot
- bizproc
- placement
- user
- entity
- pull
- pull_channel
- mobile
- log
- sonet_group
- telephony
- call
- messageservice
- forum
- pay_system
- mailservice
- userconsent
- rating
- smile
- lists
- delivery
- sale
- timeman
- faceid
- landing
- landing_cloud
- imopenlines
- calendar
- department
- contact_center
- intranet
- documentgenerator
- crm
- task
- tasks_extended
- disk
- catalog
- rpa
- salescenter
- socialnetwork

Точкой входа в неймспейс является билдер сервисов. Например — `CRMServiceBuilder`, который производит конфигурацию конкретных сервисов
отвечающих за работу с CRM.

Сервисы предоставляют CRUD+ API по работе с конкретной сущностью, сервис именуется так же как сущность. Сервис по работе со сделками будет
доступен при вызове `CRM\Deals\Service\Deals`

## Ключевые тезисы

1. Результаты возвращаемые SDK *неизменяемые*
2. Результаты работы сервисов типизированы и предоставляют методы для работы с данными конкретной сущности
3. Методы отвечающие за добавление и изменение данных документированы в формате phpstan и предоставляют подсказки по типам данных.
4. Все методы именуются так же, как методы API.

## Утилиты

Вместе с SDK поставляется набор CLI-утилит для работы с порталом

- `benchmark:list` – тест производительности выборки данных для метода *.list в разных режимах работы
- `generate:contacts` – генерация тестовых контактов
- `util:show-fields-description` – показ полей сущности в виде таблицы или в формате phpDoc для аннотирования DTO-объектов результатов

Показ списка утилит

```shell
mesilov@mesilov-local bitrix24-php-sdk % php -f tools/bin/console 
```